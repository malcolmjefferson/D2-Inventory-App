(function(){"use strict";var e={9647:function(e,t,r){var n=r(5130),a=r(6768),i=r(4232);const o=e=>((0,a.Qi)("data-v-4bf48775"),e=e(),(0,a.jt)(),e),c={id:"app"},s=o((()=>(0,a.Lk)("h1",null,"Destiny 2 Charcter Data",-1))),h={key:0},u=o((()=>(0,a.Lk)("p",null,"You are logged in!",-1)));function l(e,t,r,o,l,d){const p=(0,a.g2)("character-data"),m=(0,a.g2)("inventory-data");return(0,a.uX)(),(0,a.CE)("div",c,[s,(0,a.Lk)("div",null,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.membershipId=e),placeholder:"Membership ID"},null,512),[[n.Jo,l.membershipId]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.membershipType=e),placeholder:"Membership Type"},null,512),[[n.Jo,l.membershipType]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.characterId=e),placeholder:"Character ID"},null,512),[[n.Jo,l.characterId]]),(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>d.loginWithBungie&&d.loginWithBungie(...e))},"Login with Bungie")]),l.isLoggedIn?((0,a.uX)(),(0,a.CE)("div",h,[u,(0,a.Lk)("p",null,"Access Token: "+(0,i.v_)(l.accessToken),1)])):(0,a.Q3)("",!0),l.isLoggedIn?((0,a.uX)(),(0,a.Wv)(p,{key:1,"membership-id":l.membershipId,"membership-type":l.membershipType,"access-token":l.accessToken},null,8,["membership-id","membership-type","access-token"])):(0,a.Q3)("",!0),l.isLoggedIn?((0,a.uX)(),(0,a.Wv)(m,{key:2,"membership-id":l.membershipId,"membership-type":l.membershipType,"character-id":l.characterId,"access-token":l.accessToken},null,8,["membership-id","membership-type","character-id","access-token"])):(0,a.Q3)("",!0)])}const d=e=>((0,a.Qi)("data-v-d57c227a"),e=e(),(0,a.jt)(),e),p={class:"character-data"},m=d((()=>(0,a.Lk)("h2",null,"Character Data",-1))),v={key:0},f={key:1},y=d((()=>(0,a.Lk)("p",null,"No character data available",-1))),b=[y];function k(e,t,r,n,o,c){return(0,a.uX)(),(0,a.CE)("div",p,[m,o.characterData?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("p",null,"Name: "+(0,i.v_)(o.characterData.name),1),(0,a.Lk)("p",null,"Class: "+(0,i.v_)(o.characterData.class),1),(0,a.Lk)("p",null,"Light Level: "+(0,i.v_)(o.characterData.lightLevel),1)])):((0,a.uX)(),(0,a.CE)("div",f,b))])}var g={props:["membershipId","membershipType","accessToken"],data(){return{characterData:null}},methods:{async fetchCharacterData(){try{const e=await fetch(`/api/destiny/profile/${this.membershipId}/${this.membershipType}`,{headers:{Authorization:`Bearer ${this.accessToken}`}}),t=await e.json();this.characterData=t.characterData}catch(e){console.error("Error fetching character data:",e)}}},mounted(){this.fetchCharacterData()}},I=r(1241);const L=(0,I.A)(g,[["render",k],["__scopeId","data-v-d57c227a"]]);var T=L;const C=e=>((0,a.Qi)("data-v-4b57ef52"),e=e(),(0,a.jt)(),e),D={class:"inventoryData"},w=C((()=>(0,a.Lk)("h2",null,"Character Inventory",-1))),E={key:0},_={key:1},j=C((()=>(0,a.Lk)("p",null,"No inventory data available",-1))),X=[j];function O(e,t,r,n,o,c){return(0,a.uX)(),(0,a.CE)("div",D,[w,o.inventory.length>0?((0,a.uX)(),(0,a.CE)("ul",E,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.inventory,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.itemHash},(0,i.v_)(e.name)+" ("+(0,i.v_)(e.quantity)+") ",1)))),128))])):((0,a.uX)(),(0,a.CE)("div",_,X))])}var $={props:["membershipId","membershipType","characterId","accessToken"],data(){return{inventory:[]}},methods:{async fetchInventory(){try{const e=await fetch(`/api/destiny/inventory/${this.membershipId}/${this.membershipType}/${this.characterId}`,{headers:{Authorization:`Bearer ${this.accessToken}`}}),t=await e.json();this.inventory=t}catch(e){console.error("Error fetching inventory:",e)}}},mounted(){this.fetchInventory()}};const A=(0,I.A)($,[["render",O],["__scopeId","data-v-4b57ef52"]]);var B=A,Q={components:{CharacterData:T,InventoryData:B},data(){return{membershipId:"",membershipType:"",characterId:"",accessToken:null,isLoggedIn:!1}},methods:{async loginWithBungie(){try{const e=await fetch("/auth/bungie"),t=await e.json();this.accessToken=t.accessToken,this.isLoggedIn=!0}catch(e){console.error("Error logging in: ",e)}}}};const x=(0,I.A)(Q,[["render",l],["__scopeId","data-v-4bf48775"]]);var W=x;(0,n.Ef)(W).mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,i){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var c=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(c=!1,i<o&&(o=i));if(c){e.splice(u--,1);var h=a();void 0!==h&&(t=h)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],c=n[1],s=n[2],h=0;if(o.some((function(t){return 0!==e[t]}))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(s)var u=s(r)}for(t&&t(n);h<o.length;h++)i=o[h],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(9647)}));n=r.O(n)})();
//# sourceMappingURL=app.ce0fca98.js.map